{"version":3,"file":"mwc-floating-label-directive.js","sourceRoot":"","sources":["mwc-floating-label-directive.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAMH,OAAO,EAAC,0BAA0B,EAAC,MAAM,wCAAwC,CAAC;AAClF,OAAO,EAAgB,SAAS,EAAE,SAAS,EAAiC,QAAQ,EAAC,MAAM,kBAAkB,CAAC;AAM9G,MAAM,aAAa,GAAG,CAAC,YAAyB,EAA2B,EAAE;IAC3E,OAAO;QACL,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC;QAC9D,WAAW,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,YAAY,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC;QACpE,QAAQ,EAAE,GAAG,EAAE,CAAC,YAAY,CAAC,WAAW;QACxC,0BAA0B,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE;YAC/C,YAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QAClD,CAAC;QACD,4BAA4B,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE;YACjD,YAAY,CAAC,mBAAmB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QACrD,CAAC;KACF,CAAC;AACJ,CAAC,CAAC;AAEF,MAAM,sBAAuB,SAAQ,SAAS;IAI5C,YAAY,QAAkB;QAC5B,KAAK,CAAC,QAAQ,CAAC,CAAC;QAJV,eAAU,GAAoC,IAAI,CAAC;QACnD,iBAAY,GAAuB,IAAI,CAAC;QAK9C,QAAQ,QAAQ,CAAC,IAAI,EAAE;YACrB,yCAAyC;YACzC,KAAK,QAAQ,CAAC,SAAS,CAAC;YACxB,KAAK,QAAQ,CAAC,QAAQ;gBACpB,MAAM;YACR;gBACE,MAAM,IAAI,KAAK,CACX,mEAAmE,CAAC,CAAC;SAC5E;IACH,CAAC;IAED;;;OAGG;IACM,MAAM,CAAC,IAAmB,EAAE,CAAC,KAAK,CAA4B;QACrE,IAAI,IAAI,KAAK,IAAI,CAAC,YAAY,EAAE;YAC9B,IAAI,IAAI,CAAC,UAAU,EAAE;gBACnB,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;aAC3B;YACD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,MAAM,YAAY,GAAG,IAAI,CAAC,OAAwB,CAAC;YACnD,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;YACjD,MAAM,OAAO,GAAG,aAAa,CAAC,YAAY,CAAC,CAAC;YAC5C,IAAI,CAAC,UAAU,GAAG,IAAI,0BAA0B,CAAC,OAAO,CAAC,CAAC;YAC1D,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;SACxB;QACD,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAC5B,CAAC;IACD,MAAM,CAAC,MAAc;QACnB,OAAO,IAAI,CAAC,UAAU,CAAC;IACzB,CAAC;CACF;AAED,MAAM,CAAC,MAAM,aAAa,GAAG,SAAS,CAAC,sBAAsB,CAAC,CAAC","sourcesContent":["/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\nimport {MDCFloatingLabelAdapter} from '@material/floating-label/adapter.js';\nimport {MDCFloatingLabelFoundation} from '@material/floating-label/foundation.js';\nimport {AttributePart, directive, Directive, DirectiveParameters, PartInfo, PartType} from 'lit/directive.js';\n\nexport interface FloatingLabel extends HTMLLabelElement {\n  floatingLabelFoundation: MDCFloatingLabelFoundation;\n}\n\nconst createAdapter = (labelElement: HTMLElement): MDCFloatingLabelAdapter => {\n  return {\n    addClass: (className) => labelElement.classList.add(className),\n    removeClass: (className) => labelElement.classList.remove(className),\n    getWidth: () => labelElement.scrollWidth,\n    registerInteractionHandler: (evtType, handler) => {\n      labelElement.addEventListener(evtType, handler);\n    },\n    deregisterInteractionHandler: (evtType, handler) => {\n      labelElement.removeEventListener(evtType, handler);\n    },\n  };\n};\n\nclass FloatingLabelDirective extends Directive {\n  private foundation: MDCFloatingLabelFoundation|null = null;\n  private previousPart: AttributePart|null = null;\n\n  constructor(partInfo: PartInfo) {\n    super(partInfo);\n\n    switch (partInfo.type) {\n      // Only allow Attribute and Part bindings\n      case PartType.ATTRIBUTE:\n      case PartType.PROPERTY:\n        break;\n      default:\n        throw new Error(\n            'FloatingLabel directive only support attribute and property parts');\n    }\n  }\n\n  /**\n   * There is no PropertyPart in Lit 2 so far. For more info see:\n   * https://github.com/lit/lit/issues/1863\n   */\n  override update(part: AttributePart, [label]: DirectiveParameters<this>) {\n    if (part !== this.previousPart) {\n      if (this.foundation) {\n        this.foundation.destroy();\n      }\n      this.previousPart = part;\n      const labelElement = part.element as FloatingLabel;\n      labelElement.classList.add('mdc-floating-label');\n      const adapter = createAdapter(labelElement);\n      this.foundation = new MDCFloatingLabelFoundation(adapter);\n      this.foundation.init();\n    }\n    return this.render(label);\n  }\n  render(_label: string): MDCFloatingLabelFoundation|null {\n    return this.foundation;\n  }\n}\n\nexport const floatingLabel = directive(FloatingLabelDirective);\n"]}