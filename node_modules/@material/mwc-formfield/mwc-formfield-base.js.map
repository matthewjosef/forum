{"version":3,"file":"mwc-formfield-base.js","sourceRoot":"","sources":["mwc-formfield-base.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\n// tslint:disable:no-new-decorators\n\nimport {MDCFormFieldAdapter} from '@material/form-field/adapter.js';\nimport MDCFormFieldFoundation from '@material/form-field/foundation.js';\nimport {BaseElement, EventType, SpecificEventListener} from '@material/mwc-base/base-element.js';\nimport {FormElement} from '@material/mwc-base/form-element.js';\nimport {observer} from '@material/mwc-base/observer.js';\nimport {html} from 'lit';\nimport {property, query, queryAssignedNodes} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\n\n\nexport class FormfieldBase extends BaseElement {\n  @property({type: Boolean}) alignEnd = false;\n  @property({type: Boolean}) spaceBetween = false;\n  @property({type: Boolean}) nowrap = false;\n\n  @property({type: String})\n  @observer(async function(this: FormfieldBase, label: string) {\n    this.input?.setAttribute('aria-label', label);\n  })\n  label = '';\n\n  @query('.mdc-form-field') protected mdcRoot!: HTMLElement;\n\n  protected mdcFoundation!: MDCFormFieldFoundation;\n\n  protected readonly mdcFoundationClass = MDCFormFieldFoundation;\n\n  protected createAdapter(): MDCFormFieldAdapter {\n    return {\n      registerInteractionHandler:\n          <K extends EventType>(type: K, handler: SpecificEventListener<K>) => {\n            this.labelEl.addEventListener(type, handler);\n          },\n      deregisterInteractionHandler:\n          <K extends EventType>(type: K, handler: SpecificEventListener<K>) => {\n            this.labelEl.removeEventListener(type, handler);\n          },\n      activateInputRipple: async () => {\n        const input = this.input;\n        if (input instanceof FormElement) {\n          const ripple = await input.ripple;\n          if (ripple) {\n            ripple.startPress();\n          }\n        }\n      },\n      deactivateInputRipple: async () => {\n        const input = this.input;\n        if (input instanceof FormElement) {\n          const ripple = await input.ripple;\n          if (ripple) {\n            ripple.endPress();\n          }\n        }\n      },\n    };\n  }\n\n  @queryAssignedNodes('', true, '*')\n  protected slottedInputs!: HTMLElement[]|null;\n\n  @query('label') protected labelEl!: HTMLLabelElement;\n\n  protected get input() {\n    return this.slottedInputs?.[0] ?? null;\n  }\n\n  protected override render() {\n    const classes = {\n      'mdc-form-field--align-end': this.alignEnd,\n      'mdc-form-field--space-between': this.spaceBetween,\n      'mdc-form-field--nowrap': this.nowrap\n    };\n\n    return html`\n      <div class=\"mdc-form-field ${classMap(classes)}\">\n        <slot></slot>\n        <label class=\"mdc-label\"\n               @click=\"${this._labelClick}\">${this.label}</label>\n      </div>`;\n  }\n\n  override click() {\n    this._labelClick();\n  }\n\n  protected _labelClick() {\n    const input = this.input;\n    if (input) {\n      input.focus();\n      input.click();\n    }\n  }\n}\n"]}